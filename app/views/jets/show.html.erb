<% if @jet.photos.attached? %>
  <% if @jet.photos.count == 1 %>
    <div class="banner" style="padding: 250px 0; background-image: url(<%= cl_image_path @jet.photos.first.key, style: 'height:100%;width:100%;', crop: :fill %>)"></div>
  <% elsif @jet.photos.count == 2 %>
    <div class="photo-container">
      <div class="left-container">
        <%= cl_image_tag @jet.photos.first.key, style: 'height:100%;width:100%;', crop: :fill %>
      </div>
      <div class="right-container">
        <% @jet.photos.drop(1).each do |photo| %>
          <%= cl_image_tag photo.key, style: 'height:200%;width:200%;', crop: :fill %>
        <% end %>
      </div>
    </div>
  <% elsif @jet.photos.count == 3 %>
    <div class="photo-container">
      <div class="left-container">
        <%= cl_image_tag @jet.photos.first.key, style: 'height:100%;width:100%;', crop: :fill %>
      </div>
      <div class="right-container">
        <% @jet.photos.drop(1).each do |photo| %>
          <%= cl_image_tag photo.key, style: 'height:100%;width:200%;', crop: :fill %>
          <div></div>
        <% end %>
      </div>
    </div>
  <% elsif @jet.photos.count == 4 %>
    <div class="photo-container">
      <div class="left-container">
        <%= cl_image_tag @jet.photos.first.key, style: 'height:100%;width:100%;', crop: :fill %>
      </div>
      <div class="right-container">
        <% @jet.photos.drop(1).reverse.drop(1).reverse.each do |photo| %>
          <%= cl_image_tag photo.key, style: 'height:100%;width:100%;', crop: :fill %>
        <% end %>
        <%= cl_image_tag @jet.photos.last.key, style: 'height:100%;width:200%;', crop: :fill %>
      </div>
    </div>
  <% elsif @jet.photos.count >= 5 %>
    <div class="photo-container">
      <div class="left-container">
        <%= cl_image_tag @jet.photos.first.key, style: 'height:100%;width:100%;', crop: :fill %>
      </div>
      <div class="right-container">
        <% @jet.photos.drop(1).each do |photo| %>
          <%= cl_image_tag photo.key, style: 'height:100%;width:100%;', crop: :fill %>
        <% end %>
      </div>
    </div>
  <% end %>
<% else %>
  <div class="banner" style="padding: 250px 0; background-image: url(<%= image_path('https://source.unsplash.com/1600x900/?plane', crop: :fill) %>);"></div>
<% end %>
<div class="container my-4">
  <div class="row justify-content-between">
    <div class="col-6 text-center">
      <h2><%= @jet.name.capitalize %>
        <% if current_user %>
          <%= link_to '', class: 'small-a', data: { toggle: "modal", target: "#jetEditModal" } do %> <i class="fas fa-pen"></i> <% end %>
          <%= link_to jet_path(@jet), method: :delete, class: 'small-a', data: { confirm: "Are you sure to delete #{@jet.name}?"} do %> <i class="far fa-trash-alt"></i> <% end %>
        <% end %>
      </h2>
      <p style="color: grey"><img src="https://kitt.lewagon.com/placeholder/users/random" class="avatar">    <%= @jet.user.first_name %> <%= @jet.user.last_name %></p>
      <h3><%= @jet.model %></h3>
      <ul>
        <li><p>City: <%= @jet.city.name %></p></li>
        <li><p>Maximum Capacity: <%= @jet.capacity %></p></li>
        <li><p></p></li>
        <li><p>Price per day: &euro; <%= @jet.unit_price%></p></li>
      </ul>
    </div>
    <div class="col-6 text-center">
      <%= link_to 'Book now', new_jet_booking_path(@jet), class: 'btn btn-gradient' %>
    </div>
  </div>
  <hr>
  <div class="row my-4">
    <div class="col-12 text-center">
      <h2>Reviews</h2>
      <p>No reviews yet!</p>
      <a href="#">+ Add review</a>
    </div>
  </div>
  <div class="text-center my-4">
    <%= link_to "Back to list", root_path, class: "btn btn-ghost"%>
  </div>
</div>
<div class="modal fade" id="jetEditModal" tabindex="-1" role="dialog" aria-labelledby="jetEditModalLabel" aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="jetEditModalLabel">Edit jet</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body text-left">
        <%= simple_form_for [@jet] do |f| %>
          <%= f.input :name, placeholder: "Name of the jet"%>
          <%= f.input :model, placeholder: "Model name of the jet" %>
          <%= f.input :capacity, collection: (4..15)  %>
          <%= f.input :unit_price, collection: [1000, 1500, 2000, 2500, 3000, 3500, 4000, 4500, 5000]  %>
          <%= f.association :city, collection: City.order(:name), prompt: "Choose a City" %>
          <%= f.input :photos, as: :file, input_html: { multiple: true } %>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-ghost" data-dismiss="modal">Close</button>
        <%= f.submit class: 'btn btn-gradient' %>
        <% end %>
      </div>
    </div>
  </div>
</div>
